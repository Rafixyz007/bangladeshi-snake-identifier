<!-- <input id="photo" type="file">
<div id="results"></div>

<script type="module">
    import { client } from "https://cdn.jsdelivr.net/npm/@gradio/client@0.1.4/dist/index.min.js";

    const photo = document.getElementById("photo");
    const results = document.getElementById("results");

    async function loaded(reader) {
        const app = await client("https://rafix007-bangladeshi-snake-recognizer-02.hf.space/");
        const response = await app.predict("/predict", [reader.result]);
        const label = response['data'][0]['label'];
        
        results.innerHTML = `<br/> <img src="${reader.result}" width="500"> <p>${label}</p>`;
    }

    function read() {
        const reader = new FileReader();
        reader.addEventListener('load', () => loaded(reader));
        reader.readAsDataURL(photo.files[0]);
    }

    photo.addEventListener('input', read);
</script> -->





<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bangladeshi Snake Recognizer</title>

<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f0f0f0;
  }

  /* Glass effect for slideshow and other elements */
  .glass {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 20px;
    display: inline-block;
    margin-bottom: 20px;
  }

  img {
    max-width: 100%;
    border-radius: 10px;
  }

  #results p {
    font-weight: bold;
    font-size: 1.2em;
  }
</style>
</head>
<body>

<h1>Bangladeshi Snake Recognizer</h1>

<!-- Slideshow of snake images -->
<div id="slideshow" class="glass">
  <img src="/assets/images/snake1.png" alt="Snake" width="400">
</div>

<br>

<!-- File upload for Gradio prediction -->
<input id="photo" type="file">
<div id="results"></div>

<script type="module">
import { client } from "https://cdn.jsdelivr.net/npm/@gradio/client@0.1.4/dist/index.min.js";

const photo = document.getElementById("photo");
const results = document.getElementById("results");

// --- Slideshow logic ---
const images = [
  "/assets/images/snake_01.jfif",
  "/assets/images/snake_02.jfif",
  "/assets/images/snake_03.jfif"
];
let index = 0;
const imgElement = document.querySelector("#slideshow img");

setInterval(() => {
  index = (index + 1) % images.length;
  imgElement.src = images[index];
}, 3000); // change every 3 seconds

// --- Gradio file upload logic ---
async function loaded(reader) {
    const app = await client("https://rafix007-bangladeshi-snake-recognizer-02.hf.space/");
    const response = await app.predict("/predict", [reader.result]);
    const label = response?.data?.[0]?.label || response?.output?.[0] || "No label returned";

    results.innerHTML = `<br/><img src="${reader.result}" width="500"><p>${label}</p>`;
}

function read() {
    const reader = new FileReader();
    reader.addEventListener('load', () => loaded(reader));
    reader.readAsDataURL(photo.files[0]);
}

photo.addEventListener('input', read);
</script>

</body>
</html>
